<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>amfe.tools module &#8212; AMfe 0.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Notes" href="../../notes.html" />
    <link rel="prev" title="amfe.solver module" href="amfe.solver.html" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="This is the documentation of AMfe">
    <meta name="author" content="Johannes Rutzmoser and Christian Meyer">
    <link rel="icon" href="../../favicon.ico">

    
    <!-- Bootstrap core CSS -->
    <link href="../../_static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="../../_static/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="../../_static/css/theme.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      
      
    <![endif]-->

  </head>
  <body role="document">

    <div class="document">


       <!-- Static navbar -->
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-primary" id="main-nav">
        <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#"><img src="../../_static/img/logo.png" alt="" width="30" height="30" class="d-inline-block align-top">
                  AMfe Documentation
              </a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav">
                <li class="nav-item active"><a href="../../index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="../getting_started/index.html">Tutorials</a></li>
                <li class="nav-item"><a class="nav-link" href="../fundamentals/index.html">Fundamentals</a></li>
                <li class="nav-item"><a class="nav-link" href="../examples/index.html">Examples</a></li>
                <li class="nav-item"><a class="nav-link" href="../../contents.html">Table of Contents</a></li>
                <li class="nav-item"><a class="nav-link" href="../../genindex.html">Index</a></li>
                <li class="nav-item"><a class="nav-link" href="../../py-modindex.html">Modules</a></li>
              </ul>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <div class="row">
            
    <ul class="pager">
      <li class="previous">
        <a href="amfe.solver.html" title="amfe.solver module">&laquo; Previous</a>
      </li>
      <li class="previous">
        <a href="index.html" title="amfe Package Documentation" accesskey="U">up</a>
      </li>
    <li class="next">
     <a href="../../notes.html" title="Notes">next &raquo;</a>
    </li>
      </ul>
        </div>
        <div class="row">
            
  <div class="section" id="module-amfe.tools">
<span id="amfe-tools-module"></span><h1>amfe.tools module<a class="headerlink" href="#module-amfe.tools" title="Permalink to this headline">¶</a></h1>
<p>A collection of tools which to not fit to one topic of the other modules.</p>
<p>Some tools here might be experimental.</p>
<dl class="function">
<dt id="amfe.tools.node2total">
<code class="descclassname">amfe.tools.</code><code class="descname">node2total</code><span class="sig-paren">(</span><em>node_index</em>, <em>coordinate_index</em>, <em>ndof_node=2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#node2total"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.node2total" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the node index and the corresponding coordinate index to the index
of the total dof.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>node_index</strong> (<em>int</em>) &#8211; Index of the node as shown in tools like paraview</li>
<li><strong>coordinate_index</strong> (<em>int</em>) &#8211; Index of the coordinate; 0 if it&#8217;s x, 1 if it&#8217;s y etc.</li>
<li><strong>ndof_node</strong> (<em>int</em><em>, </em><em>optional</em>) &#8211; Number of degrees of freedom per node</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>total_index</strong> &#8211; Index of the total dof</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.total2node">
<code class="descclassname">amfe.tools.</code><code class="descname">total2node</code><span class="sig-paren">(</span><em>total_index</em>, <em>ndof_node=2</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#total2node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.total2node" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the total index in the global dofs to the coordinate index and the
index fo the coordinate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>total_index</strong> (<em>int</em>) &#8211; Index of the total dof</li>
<li><strong>ndof_node</strong> (<em>int</em><em>, </em><em>optional</em>) &#8211; Number of degrees of freedom per node</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>node_index</strong> (<em>int</em>) &#8211; Index of the node as shown in tools like paraview</li>
<li><strong>coordinate_index</strong> (<em>int</em>) &#8211; Index of the coordinate; 0 if it&#8217;s x, 1 if it&#8217;s y etc.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.read_hbmat">
<code class="descclassname">amfe.tools.</code><code class="descname">read_hbmat</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#read_hbmat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.read_hbmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the hbmat file and returns it in the csc format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; string of the filename</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>matrix</strong> &#8211; matrix which is saved in harwell-boeing format</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">sp.sparse.csc_matrix</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Information on the Harwell Boeing format:
<a class="reference external" href="http://people.sc.fsu.edu/~jburkardt/data/hb/hb.html">http://people.sc.fsu.edu/~jburkardt/data/hb/hb.html</a></p>
<p>When the hbmat file is exported as an ASCII-file, the truncation of the
numerical values can cause issues, for example</p>
<ul class="simple">
<li>eigenvalues change</li>
<li>zero eigenvalues vanish</li>
<li>stiffness matrix becomes indefinite</li>
<li>etc.</li>
</ul>
<p>Thus do not trust matrices which are imported with this method. The method
is correct, but the truncation error in the hbmat file of the floating
point digits might cause some issues.</p>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.append_interactively">
<code class="descclassname">amfe.tools.</code><code class="descname">append_interactively</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#append_interactively"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.append_interactively" title="Permalink to this definition">¶</a></dt>
<dd><p>Open an input dialog for interactively appending a string to a filename.</p>
<p>This filename function should make it easy to save output files from
numerical experiments containing a time stamp with an additonal tag
requested at time of saving.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) &#8211; filename path, e.g. for saving</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>filename</strong> &#8211; filename path with additional stuff, maybe added for convenience or
better understanding</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.matshow_3d">
<code class="descclassname">amfe.tools.</code><code class="descname">matshow_3d</code><span class="sig-paren">(</span><em>A</em>, <em>thickness=0.8</em>, <em>cmap=&lt;matplotlib.colors.ListedColormap object&gt;</em>, <em>alpha=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#matshow_3d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.matshow_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Show a matrix as bar-plot using matplotlib.bar3d plotting tools similar to
<cite>pyplot.matshow</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<em>ndarray</em>) &#8211; Array to be plotted</li>
<li><strong>thickness</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; thickness of the bar. Default: 0.8</li>
<li><strong>cmap</strong> (<em>matplotlib.cm function</em><em>, </em><em>optional</em>) &#8211; Colormap-function of matplotlib. Default. mpl.cm.jet</li>
<li><strong>alpha</strong> (<em>float</em>) &#8211; alpha channel value (transparency): alpha=1.0 is not transparent at all,
alpha=0.0 is full transparent and thus invisible.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>barplot</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">instance of mpl_toolkits.mplot3d.art3d.Poly3DCollection</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">matplotlib.pyplot.matshow()</span></code></p>
</div>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.amfe_dir">
<code class="descclassname">amfe.tools.</code><code class="descname">amfe_dir</code><span class="sig-paren">(</span><em>filename=''</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#amfe_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.amfe_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute path of the filename given relative to the amfe
directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em><em>, </em><em>optional</em>) &#8211; relative path to something inside the amfe directory.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>dir</strong> &#8211; string of the filename inside the AMFE-directory. Default value is &#8216;&#8217;,
so the AMFE-directory is returned.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.h5_read_u">
<code class="descclassname">amfe.tools.</code><code class="descname">h5_read_u</code><span class="sig-paren">(</span><em>h5filename</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#h5_read_u"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.h5_read_u" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the displacement field of a given hdf5-file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>h5filename</strong> (<em>str</em>) &#8211; Full filename (with e.g. .hdf5 ending) of the hdf5 file.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>u_constr</strong> (<em>ndarray</em>) &#8211; Displacement time series of the dofs with constraints implied.
Shape is (ndof_constr, no_of_timesteps), i.e. u_constr[:,0] is the
first timestep.</li>
<li><strong>u_unconstr</strong> (<em>ndarray</em>) &#8211; Displacement time series of the dofs without constraints. I.e. the
dofs are as in the mesh file. Shape is (ndof_unconstr, no_of_timesteps).</li>
<li><strong>T</strong> (<em>ndarray</em>) &#8211; Time. Shape is (no_of_timesteps,).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.test">
<code class="descclassname">amfe.tools.</code><code class="descname">test</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Run all tests for AMfe.</p>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.reorder_sparse_matrix">
<code class="descclassname">amfe.tools.</code><code class="descname">reorder_sparse_matrix</code><span class="sig-paren">(</span><em>A</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#reorder_sparse_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.reorder_sparse_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder the sparse matrix A such that the bandwidth of the matrix is
minimized using the Cuthill–McKee (RCM) algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>A</strong> (<em>CSR</em><em> or </em><em>CSC sprarse symmetric matrix</em>) &#8211; Sparse and symmetric matrix</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>A_new</strong> (<em>CSR or CSC sparse symmetric matrix</em>) &#8211; reordered sparse and symmetric matrix</li>
<li><strong>perm</strong> (<em>ndarray</em>) &#8211; vector of row and column permutation</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>E. Cuthill and J. McKee, &#8220;Reducing the Bandwidth of Sparse Symmetric Matrices&#8221;,
ACM &#8216;69 Proceedings of the 1969 24th national conference, (1969).</p>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.eggtimer">
<code class="descclassname">amfe.tools.</code><code class="descname">eggtimer</code><span class="sig-paren">(</span><em>fkt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#eggtimer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.eggtimer" title="Permalink to this definition">¶</a></dt>
<dd><p>Egg timer for functions which reminds via speech, when the function has
terminated.</p>
<p>The intention of this function is, that the user gets reminded, when longer
simulations are over.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fkt</strong> (<em>function</em>) &#8211; any function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>fkt</strong> &#8211; function decorated with eggtimer. It reminds you via speech, when the
function has terminated.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">function</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Import eggtimer function:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">amfe</span> <span class="k">import</span> <span class="n">eggtimer</span>
</pre></div>
</div>
<p>working directly on function:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">a</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timed_square</span> <span class="o">=</span> <span class="n">eggtimer</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">timed_square</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">36</span>
</pre></div>
</div>
<p>working as decorator:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@eggtimer</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">a</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">square</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="go">36</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.compute_relative_error">
<code class="descclassname">amfe.tools.</code><code class="descname">compute_relative_error</code><span class="sig-paren">(</span><em>red_file</em>, <em>ref_file</em>, <em>M=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#compute_relative_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.compute_relative_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the farhat error of two given hdf5 files displacement sets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>red_file</strong> (<em>str</em>) &#8211; Filename of the reduced or to be investigated file.</li>
<li><strong>ref_file</strong> (<em>str</em>) &#8211; Filename of the reference file.</li>
<li><strong>M</strong> (<em>array-like</em><em>, </em><em>optional</em>) &#8211; mass matrix of the given system. If None, no mass matrix is used.
Default: None.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>err</strong> &#8211; Error.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<div class="last math">
\[ER = \frac{\sqrt{\sum\limits_{t\in T} \Delta u(t)^T M \Delta u(t)}}{
           \sqrt{\sum\limits_{t\in T} u_{ref}(t)^T M u_{ref}(t)}}\]</div>
</div>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.principal_angles">
<code class="descclassname">amfe.tools.</code><code class="descname">principal_angles</code><span class="sig-paren">(</span><em>V1</em>, <em>V2</em>, <em>cosine=True</em>, <em>principal_vectors=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#principal_angles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.principal_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cosine of the principal angles of the two bases V1 and V2.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>V1</strong> (<em>ndarray</em>) &#8211; array denoting n-dimensional subspace spanned by V1 (Mxn)</li>
<li><strong>V2</strong> (<em>ndarray</em>) &#8211; array denoting subspace 2. Dimension is (MxO)</li>
<li><strong>cosine</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; flag stating, if the cosine of the angles is to be used</li>
<li><strong>principal_vectors</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Option flag for returning principal vectors. Default is False.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>sigma</strong> (<em>ndarray</em>) &#8211; cosine of subspace angles</li>
<li><strong>F1</strong> (<em>ndarray</em>) &#8211; array of principal vectors of subspace spanned by V1. The columns give
the principal vectors, i.e. F1[:,0] is the first principal vector
associated with theta[0] and so on. Only returned, if
<code class="docutils literal"><span class="pre">principal_vectors=True</span></code>.</li>
<li><strong>F2</strong> (<em>ndarray</em>) &#8211; array of principal vectors of subspace spanned by V2. Only returned if
<code class="docutils literal"><span class="pre">principal_vectors=True</span></code>.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Both matrices V1 and V2 have live in the same vector space, i.e. they have
to have the same number of rows.</p>
<p class="rubric">Examples</p>
<p>TODO</p>
<p class="rubric">References</p>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>G. H. Golub and C. F. Van Loan. Matrix computations, volume 3. JHU
Press, 2012.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.query_yes_no">
<code class="descclassname">amfe.tools.</code><code class="descname">query_yes_no</code><span class="sig-paren">(</span><em>question</em>, <em>default='yes'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#query_yes_no"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.query_yes_no" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask a yes/no question and return their answer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>question</strong> (<em>String</em>) &#8211; The question to be asked</li>
<li><strong>default</strong> (<em>String &quot;yes&quot;</em><em> or </em><em>&quot;no&quot;</em>) &#8211; The default answer</li>
<li><strong>Returns</strong> &#8211; </li>
<li><strong>--------</strong> &#8211; </li>
<li><strong>answer</strong> (<em>Boolean</em>) &#8211; Answer: True if yes, False if no.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.tools.resulting_force">
<code class="descclassname">amfe.tools.</code><code class="descname">resulting_force</code><span class="sig-paren">(</span><em>mechanical_system</em>, <em>force_vec</em>, <em>ref_point=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/tools.html#resulting_force"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.tools.resulting_force" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the resulting force and moment of a given force vector.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mechanical_system</strong> &#8211; mechanical system ẃith FE mesh</li>
<li><strong>force_vec</strong> (<em>array</em>) &#8211; constrained force vector</li>
<li><strong>ref_point</strong> (<em>array-like</em><em>, </em><em>shape:</em><em> (</em><em>ndim</em><em>)</em><em></em><em>, </em><em>optional</em>) &#8211; reference point to which the resulting moment is computed. Default value
is None, meaning that the reference point is at the origin</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>resulting_force_and_moment</strong> &#8211; resulting force and moment vector with (F_x, F_y, F_z, M_x, M_y, M_z)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array, shape(6)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


        </div>
        <div class="row">
            
    <ul class="pager">
      <li class="previous">
        <a href="amfe.solver.html" title="amfe.solver module">&laquo; Previous</a>
      </li>
      <li class="previous">
        <a href="index.html" title="amfe Package Documentation" accesskey="U">up</a>
      </li>
    <li class="next">
     <a href="../../notes.html" title="Notes">next &raquo;</a>
    </li>
      </ul>
        </div>
    </div>

    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="../../_static/js/bootstrap.min.js"></script>
<script src="../../_static/js/theme.js"></script>
<script>loader();</script>

      <div class="clearer"></div>
    </div>
  </body>
</html>