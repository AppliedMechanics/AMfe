<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>amfe.solver module &#8212; AMfe 0.2 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="amfe.tools module" href="amfe.tools.html" />
    <link rel="prev" title="amfe.mesh module" href="amfe.mesh.html" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="This is the documentation of AMfe">
    <meta name="author" content="Johannes Rutzmoser and Christian Meyer">
    <link rel="icon" href="../../favicon.ico">

    
    <!-- Bootstrap core CSS -->
    <link href="../../_static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="../../_static/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="../../_static/css/theme.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      
      
    <![endif]-->

  </head>
  <body role="document">

    <div class="document">


       <!-- Static navbar -->
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-primary" id="main-nav">
        <div class="container-fluid">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#"><img src="../../_static/img/logo.png" alt="" width="30" height="30" class="d-inline-block align-top">
                  AMfe Documentation
              </a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
              <ul class="nav navbar-nav">
                <li class="nav-item active"><a href="../../index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="../getting_started/index.html">Tutorials</a></li>
                <li class="nav-item"><a class="nav-link" href="../fundamentals/index.html">Fundamentals</a></li>
                <li class="nav-item"><a class="nav-link" href="../examples/index.html">Examples</a></li>
                <li class="nav-item"><a class="nav-link" href="../../contents.html">Table of Contents</a></li>
                <li class="nav-item"><a class="nav-link" href="../../genindex.html">Index</a></li>
                <li class="nav-item"><a class="nav-link" href="../../py-modindex.html">Modules</a></li>
              </ul>
            </div>
        </div>
    </nav>
    
    
    <div class="container">
        <div class="row">
            
    <ul class="pager">
      <li class="previous">
        <a href="amfe.mesh.html" title="amfe.mesh module">&laquo; Previous</a>
      </li>
      <li class="previous">
        <a href="index.html" title="amfe Package Documentation" accesskey="U">up</a>
      </li>
    <li class="next">
     <a href="amfe.tools.html" title="amfe.tools module">next &raquo;</a>
    </li>
      </ul>
        </div>
        <div class="row">
            
  <div class="section" id="module-amfe.solver">
<span id="amfe-solver-module"></span><h1>amfe.solver module<a class="headerlink" href="#module-amfe.solver" title="Permalink to this headline">¶</a></h1>
<p>Module for solving static and dynamic problems.</p>
<dl class="function">
<dt id="amfe.solver.integrate_nonlinear_gen_alpha">
<code class="descclassname">amfe.solver.</code><code class="descname">integrate_nonlinear_gen_alpha</code><span class="sig-paren">(</span><em>mechanical_system</em>, <em>q0</em>, <em>dq0</em>, <em>time_range</em>, <em>dt</em>, <em>rho_inf=0.9</em>, <em>rtol=1e-09</em>, <em>atol=1e-06</em>, <em>verbose=False</em>, <em>n_iter_max=30</em>, <em>conv_abort=True</em>, <em>write_iter=False</em>, <em>track_niter=True</em>, <em>matrix_type='symm'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#integrate_nonlinear_gen_alpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.integrate_nonlinear_gen_alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Time integration of the non-linear second-order system using the
gerneralized-alpha scheme.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mechanical_system</strong> (<em>instance of MechanicalSystem</em>) &#8211; </li>
<li><strong>of MechanicalSystem</strong><strong>, </strong><strong>which should be integrated.</strong> (<em>Instance</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>q0</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span><dd>Start displacement.</dd>
<dt>dq0</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span><dd>Start velocity.</dd>
<dt>time_range</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span><dd>Array of discrete timesteps, at which the solution is saved.</dd>
<dt>dt</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float</span><dd>Time step size of the integrator.</dd>
<dt>rho_inf</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span><dd>high-frequency spectral radius, has to be 0 &lt;= rho_inf &lt;= 1. For 1 no
damping is apparent, for 0 maximum damping is there. Default value: 0.9</dd>
<dt>rtol</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span><dd>Relative tolerance with respect to the maximum external force for the
Newton-Raphson iteration. Default value: 1E-8.</dd>
<dt>atol</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">float, optional</span><dd>Absolute tolerance for the Newton_Raphson iteration.
Default value: 1E-6.</dd>
<dt>verbose</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span><dd>Flag setting verbose output. Default: False.</dd>
<dt>n_iter_max</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">int, optional</span><dd>Number of maximum iterations per Newton-Raphson-procedure. Default
value is 30.</dd>
<dt>conv_abort</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span><dd>Flag setting, if time integration is aborted in the case when no
convergence is gained in the Newton-Raphson-Loop. Default value is
True.</dd>
<dt>write_iter</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span><dd>Flag setting, if every step of the Newton-Raphson iteration is written
to the MechanicalSystem object. Useful only for debugging, when no
convergence is gained. Default value: False.</dd>
<dt>track_niter</dt>
 <span class="classifier-delimiter">:</span> <span class="classifier">bool, optional</span><dd>Flag for the iteration-count. If True, the number of iterations in the
Newton-Raphson-Loop is counted and saved to iteration_info in the
mechanical system.</dd>
</dl>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R2]</td><td>J. Chung and G. Hulbert. A time integration algorithm for
structural dynamics with improved numerical dissipation: the
generalized-α method.
Journal of applied mechanics, 60(2):371–375, 1993.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R3]</td><td>O. A. Bauchau: Flexible Multibody Dynamics. Springer, 2011.
pp. 664.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.solver.integrate_linear_gen_alpha">
<code class="descclassname">amfe.solver.</code><code class="descname">integrate_linear_gen_alpha</code><span class="sig-paren">(</span><em>mechanical_system</em>, <em>q0</em>, <em>dq0</em>, <em>time_range</em>, <em>dt</em>, <em>rho_inf=0.9</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#integrate_linear_gen_alpha"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.integrate_linear_gen_alpha" title="Permalink to this definition">¶</a></dt>
<dd><p>Time integration of the linearized second-order system using the
gerneralized-alpha scheme.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mechanical_system</strong> (<em>instance of MechanicalSystem</em>) &#8211; Mechanical System which is linearized about the zero displacement.</li>
<li><strong>q0</strong> (<em>ndarray</em>) &#8211; initial displacement</li>
<li><strong>dq0</strong> (<em>ndarray</em>) &#8211; initial velocity</li>
<li><strong>time_range</strong> (<em>ndarray</em>) &#8211; array containing the time steps to be exported</li>
<li><strong>dt</strong> (<em>float</em>) &#8211; time step size.</li>
<li><strong>rho_inf</strong> (<em>float</em><em>, </em><em>&gt;= 0</em><em>, </em><em>&lt;= 1</em>) &#8211; high-frequency spectral radius, has to be 0 &lt;= rho_inf &lt;= 1. For 1 no
damping is apparent, for 0 maximum damping is there. Default value: 0.9</li>
<li><strong>..</strong> &#8211; </li>
<li><strong>rho_inf</strong> &#8211; high-frequency spectral radius</li>
<li><strong>..</strong> &#8211; </li>
<li><strong>TODO</strong> &#8211; </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.solver.solve_linear_displacement">
<code class="descclassname">amfe.solver.</code><code class="descname">solve_linear_displacement</code><span class="sig-paren">(</span><em>mechanical_system</em>, <em>t=1</em>, <em>verbose=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#solve_linear_displacement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.solve_linear_displacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve the linear static problem of the mechanical system and print
the results directly to the mechanical system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mechanical_system</strong> (<em>Instance of the class MechanicalSystem</em>) &#8211; Mechanical system to be solved.</li>
<li><strong>t</strong> (<em>float</em>) &#8211; time for the external force call in MechanicalSystem.</li>
<li><strong>verbose</strong> (<em>bool</em>) &#8211; Flag for verbose output.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>u</strong> &#8211; Static solution displacement field</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndaray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.solver.solve_nonlinear_displacement">
<code class="descclassname">amfe.solver.</code><code class="descname">solve_nonlinear_displacement</code><span class="sig-paren">(</span><em>mechanical_system</em>, <em>no_of_load_steps=10</em>, <em>t=0</em>, <em>rtol=1e-08</em>, <em>atol=1e-14</em>, <em>newton_damping=1</em>, <em>n_max_iter=1000</em>, <em>smplfd_nwtn_itr=1</em>, <em>verbose=True</em>, <em>track_niter=False</em>, <em>write_iter=False</em>, <em>conv_abort=True</em>, <em>save=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#solve_nonlinear_displacement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.solve_nonlinear_displacement" title="Permalink to this definition">¶</a></dt>
<dd><p>Solver for the nonlinear system applied directly on the mechanical system.</p>
<p>Prints the results directly to the mechanical system</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mechanical_system</strong> (<a class="reference internal" href="amfe.mechanical_system.html#amfe.mechanical_system.MechanicalSystem" title="amfe.mechanical_system.MechanicalSystem"><em>MechanicalSystem</em></a>) &#8211; Instance of the class MechanicalSystem</li>
<li><strong>no_of_load_steps</strong> (<em>int</em>) &#8211; Number of equally spaced load steps which are applied in order to
receive the solution</li>
<li><strong>t</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; time for the external force call in mechanical_system</li>
<li><strong>rtol</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; Relative tolerance to external force for estimation, when a loadstep
has converged</li>
<li><strong>atol</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; Absolute tolerance for estimation, of loadstep has converged</li>
<li><strong>newton_damping</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; Newton-Damping factor applied in the solution routine; 1 means no damping,
0 &lt; newton_damping &lt; 1 means damping</li>
<li><strong>n_max_iter</strong> (<em>int</em><em>, </em><em>optional</em>) &#8211; Maximum number of interations in the Newton-Loop</li>
<li><strong>smplfd_nwtn_itr</strong> (<em>int</em><em>, </em><em>optional</em>) &#8211; Number at which the jacobian is updated; if 1, then a full newton
scheme is applied; if very large, it&#8217;s a fixpoint iteration with
constant jacobian</li>
<li><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; print messages if necessary</li>
<li><strong>track_niter</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Flag for the iteration-count. If True, the number of iterations in the
Newton-Raphson-Loop is counted and saved to iteration_info in the
mechanical system.</li>
<li><strong>write_iter</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Flag setting, if every step of the Newton-Raphson iteration is written
to the MechanicalSystem object. Useful only for debugging, when no
convergence is gained. Default value: False.</li>
<li><strong>conv_abort</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Flag setting, if time integration is aborted in the case when no
convergence is gained in the Newton-Raphson-Loop. Default value is
True.</li>
<li><strong>save</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Write the resulting load steps to the MechanicalSystem to export
it afterwards. Default value: True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>u</strong> &#8211; Solution displacements; u[:,-1] is the last displacement</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray, shape(ndim, no_of_load_steps)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>TODO</p>
</dd></dl>

<dl class="function">
<dt id="amfe.solver.give_mass_and_stiffness">
<code class="descclassname">amfe.solver.</code><code class="descname">give_mass_and_stiffness</code><span class="sig-paren">(</span><em>mechanical_system</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#give_mass_and_stiffness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.give_mass_and_stiffness" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine mass and stiffness matrix of a mechanical system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mechanical_system</strong> (<a class="reference internal" href="amfe.mechanical_system.html#amfe.mechanical_system.MechanicalSystem" title="amfe.mechanical_system.MechanicalSystem"><em>MechanicalSystem</em></a>) &#8211; Instance of the class MechanicalSystem</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>M</strong> (<em>ndarray</em>) &#8211; Mass matrix of the mechanical system</li>
<li><strong>K</strong> (<em>ndarray</em>) &#8211; Stiffness matrix of the mechanical system</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.solver.integrate_linear_system">
<code class="descclassname">amfe.solver.</code><code class="descname">integrate_linear_system</code><span class="sig-paren">(</span><em>mechanical_system</em>, <em>q0</em>, <em>dq0</em>, <em>time_range</em>, <em>dt</em>, <em>alpha=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#integrate_linear_system"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.integrate_linear_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an implicit time integration of the linearized system given with
the linear system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mechanical_system</strong> (<em>instance of MechanicalSystem</em>) &#8211; Mechanical System which is linearized about the zero displacement.</li>
<li><strong>q0</strong> (<em>ndarray</em>) &#8211; initial displacement</li>
<li><strong>dq0</strong> (<em>ndarray</em>) &#8211; initial velocity</li>
<li><strong>time_range</strong> (<em>ndarray</em>) &#8211; array containing the time steps to be exported</li>
<li><strong>dt</strong> (<em>float</em>) &#8211; time step size.</li>
<li><strong>alpha</strong> (<em>float</em>) &#8211; general damping factor of the generalized-alpha method.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Due to round-off-errors, the internal time step width is h and is very
close to dt, but adjusted to fit the steps exactly.</p>
</dd></dl>

<dl class="function">
<dt id="amfe.solver.integrate_nonlinear_system">
<code class="descclassname">amfe.solver.</code><code class="descname">integrate_nonlinear_system</code><span class="sig-paren">(</span><em>mechanical_system</em>, <em>q0</em>, <em>dq0</em>, <em>time_range</em>, <em>dt</em>, <em>alpha=0.01</em>, <em>rtol=1e-08</em>, <em>atol=1e-06</em>, <em>verbose=False</em>, <em>n_iter_max=30</em>, <em>conv_abort=True</em>, <em>write_iter=False</em>, <em>track_niter=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#integrate_nonlinear_system"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.integrate_nonlinear_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Time integrate the nonlinear system using a Newmark-scheme.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mechanical_system</strong> (<em>instance of MechanicalSystem</em>) &#8211; Instance of MechanicalSystem, which should be integrated.</li>
<li><strong>q0</strong> (<em>ndarray</em>) &#8211; Start displacement.</li>
<li><strong>dq0</strong> (<em>ndarray</em>) &#8211; Start velocity.</li>
<li><strong>time_range</strong> (<em>ndarray</em>) &#8211; Array of discrete timesteps, at which the solution is saved.</li>
<li><strong>dt</strong> (<em>float</em>) &#8211; Time step size of the integrator.</li>
<li><strong>alpha</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; HHT-damping factor for numerical damping. If alpha=0, no numerical
damping is introduced, if alpha=0.3, the maximum numerical damping is
introduced. Default value: 0.01</li>
<li><strong>rtol</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; Relative tolerance with respect to the maximum external force for the
Newton-Raphson iteration. Default value: 1E-8.</li>
<li><strong>atol</strong> (<em>float</em><em>, </em><em>optional</em>) &#8211; Absolute tolerance for the Newton_Raphson iteration.
Default value: 1E-6.</li>
<li><strong>verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Flag setting verbose output. Default: False.</li>
<li><strong>n_iter_max</strong> (<em>int</em><em>, </em><em>optional</em>) &#8211; Number of maximum iterations per Newton-Raphson-procedure. Default
value is 30.</li>
<li><strong>conv_abort</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Flag setting, if time integration is aborted in the case when no
convergence is gained in the Newton-Raphson-Loop. Default value is
True.</li>
<li><strong>write_iter</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Flag setting, if every step of the Newton-Raphson iteration is written
to the MechanicalSystem object. Useful only for debugging, when no
convergence is gained. Default value: False.</li>
<li><strong>track_niter</strong> (<em>bool</em><em>, </em><em>optional</em>) &#8211; Flag for the iteration-count. If True, the number of iterations in the
Newton-Raphson-Loop is counted and saved to iteration_info in the
mechanical system.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="r4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R4]</td><td>M. Géradin and D. J. Rixen. Mechanical vibrations: theory and
application to structural dynamics. John Wiley &amp; Sons, 2014.
pp. 564.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="r5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[R5]</td><td>O. A. Bauchau: Flexible Multibody Dynamics. Springer, 2011.
pp. 664.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="amfe.solver.solve_sparse">
<code class="descclassname">amfe.solver.</code><code class="descname">solve_sparse</code><span class="sig-paren">(</span><em>A</em>, <em>b</em>, <em>matrix_type='symm'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#solve_sparse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.solve_sparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstractoin of the solution of the sparse system Ax=b using the fastest
solver available for sparse and non-sparse matrices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>A</strong> (<em>sp.sparse.CSR</em>) &#8211; sparse matrix in CSR-format</li>
<li><strong>b</strong> (<em>ndarray</em>) &#8211; right hand side of equation</li>
<li><strong>matrixd_type</strong> (<em>{'spd'</em><em>, </em><em>'symm'</em><em>, </em><em>'unsymm'}</em><em>, </em><em>optional</em>) &#8211; <p>Specifier for the matrix type:</p>
<ul>
<li>&#8216;spd&#8217; : symmetric positive definite</li>
<li>&#8216;symm&#8217; : symmetric indefinite, default.</li>
<li>&#8216;unsymm&#8217; : generally unsymmetric</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>x</strong> &#8211; solution of system Ax=b</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This tool uses the Intel MKL library provided by Anaconda. If the Intel MKL
is not installed, especially for large systems the computation time can go
crazy. To adjust the number of threads used for the computation, it is
recommended to use the mkl-service module provided by Anaconda:</p>
<div class="highlight-python3"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">mkl</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mkl</span><span class="o">.</span><span class="n">get_max_threads</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mkl</span><span class="o">.</span><span class="n">set_num_threads</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mkl</span><span class="o">.</span><span class="n">get_max_threads</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="amfe.solver.SpSolve">
<em class="property">class </em><code class="descclassname">amfe.solver.</code><code class="descname">SpSolve</code><span class="sig-paren">(</span><em>A</em>, <em>matrix_type='symm'</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#SpSolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.SpSolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Solver class for solving the sparse system Ax=b for multiple right hand
sides b using the fastest solver available, i.e. the Intel MKL Pardiso, if
available.</p>
<dl class="method">
<dt id="amfe.solver.SpSolve.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#SpSolve.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.SpSolve.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the memory, if possible.</p>
</dd></dl>

<dl class="method">
<dt id="amfe.solver.SpSolve.solve">
<code class="descname">solve</code><span class="sig-paren">(</span><em>b</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/amfe/solver.html#SpSolve.solve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#amfe.solver.SpSolve.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve the system for the given right hand side b.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>b</strong> (<em>ndarray</em>) &#8211; right hand side of equation</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>x</strong> &#8211; solution of the sparse equation Ax=b</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


        </div>
        <div class="row">
            
    <ul class="pager">
      <li class="previous">
        <a href="amfe.mesh.html" title="amfe.mesh module">&laquo; Previous</a>
      </li>
      <li class="previous">
        <a href="index.html" title="amfe Package Documentation" accesskey="U">up</a>
      </li>
    <li class="next">
     <a href="amfe.tools.html" title="amfe.tools module">next &raquo;</a>
    </li>
      </ul>
        </div>
    </div>

    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="../../_static/js/bootstrap.min.js"></script>
<script src="../../_static/js/theme.js"></script>
<script>loader();</script>

      <div class="clearer"></div>
    </div>
  </body>
</html>